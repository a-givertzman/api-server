# .deb packaging
Bash script for building the deb package.  

## Configuration (managed variables of the script)

  ### Required:
- `name` - the name of the Debian package;
- `version` - upstream version of the package;
- `descriptionShort` - short single line description of the package;
- `descriptionExtended` - more detailed description of the package over several lines;
- `maintainer` - the person maintaining the Debian package in the following format: `maintainer-name <maintainer-email>`;
- `changeDetails` - multiline list of changes made in this package revision;
- `copyrightNotice` - a copyright notice must consist of Copyright, Copr., or the Unicode symbol of C in a circle followed by the years and the copyright holder.
	```
	Copyright YYYY Firstname Lastname <address@example.com>
	Copr. YYYY-YYYY Firstname Lastname <address@example.com>
	Â© YYYY,YYYY Firstname Lastname <address@example.com>
	```
- `licenseName` - name of the used LICENSE;
- `licenseFile` - path to the LICENSE file used.
### Optional:
- `outputDir` - the directory where the .deb file of the package will be created;
- `assets` - list of non-write (immutable) files to be included in the package in the following format: `"sourcePath installPath permissions"`. Where:
	1. `sourcePath` - relative or absolute path of the assets in the project;
	2. `installPath` - absolute path to the directory where assets will be copied on package installation;
	3. `permissions` - permission assigned to copied files.
- `arch` - single word identifying a Debian package architecture, 'any', 'all' or one of the supported architecture (e.g., 'amd64', 'arm64', 'i386', 'armhf');
- `depends` - the runtime dependencies of the Debian package. Comma separated list in the following format: `<package_name> [(<<|>>|<=|>=|= <version>)], ...`.

## Steps of the deb packaging script:
1. Initialize package source structure and copy assets;
2. Create `DEBIAN/control` file;
3. Generate `changelog` and `copyright` file;
4. Generate `DEBIAN/md5sums` file containing the MD5 checksums for all package files;
5. Build the Debian package via `dpkg-deb` command.

Generalized structure of files generated by the script:
```
Builded .deb package:
<outputDir>/
`-- <name>_<vesion>_<arch>.deb

Temporary files needed for package building (cleaned up after package is built):
/tmp/
`-- debian/
    `-- <name>_<vesion>_<arch>/
        |-- < ... copied assets > 
        |-- DEBIAN/
        |   |-- control
        |   `-- md5sums
        `-- usr/
            `-- share/
                `-- doc/
                    `-- <name>/
                        |-- changelog.gz
                        `-- copyright
```
